import{d as C,t as w,r as p,o as m,c as g,a as A,F as B,b as k,w as f,e as x,f as O,g as T,u as b,h as D,i as $,j as I,k as P,l as S,m as h,n as N,p as V,q as H,s as j,v as q,x as K,y as M}from"./.pnpm-84a195eb.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const r of e.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function l(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function s(t){if(t.ep)return;t.ep=!0;const e=l(t);fetch(t.href,e)}})();const U={path:"/",redirect:"/book"},F="modulepreload",W=function(u,n){return new URL(u,n).href},R={},v=function(n,l,s){if(!l||l.length===0)return n();const t=document.getElementsByTagName("link");return Promise.all(l.map(e=>{if(e=W(e,s),e in R)return;R[e]=!0;const r=e.endsWith(".css"),o=r?'[rel="stylesheet"]':"";if(!!s)for(let _=t.length-1;_>=0;_--){const c=t[_];if(c.href===e&&(!r||c.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${e}"]${o}`))return;const a=document.createElement("link");if(a.rel=r?"stylesheet":F,r||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),r)return new Promise((_,c)=>{a.addEventListener("load",_),a.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${e}`)))})})).then(()=>n())},z=C({name:"menuTree"}),G=Object.assign(z,{props:{menu:{type:Array,default:()=>[]}},setup(u){const n=u,{menu:l}=w(n);return(s,t)=>{const e=p("el-menu-item"),r=p("el-sub-menu");return m(!0),g(B,null,A(b(l),(o,d)=>(m(),g(B,{key:d+o.path},[o.children?(m(),k(r,{index:o.path,key:`${d}${o.path}`},{title:f(()=>[T("span",null,O(o.label),1)]),_:2},1032,["index"])):(m(),k(e,{key:d+o.path,index:o.path?o.path:""},{title:f(()=>[x(O(o.label),1)]),_:2},1032,["index"]))],64))),128)}}}),J=C({name:"SideMenu"}),Q=Object.assign(J,{props:{collapse:{type:Boolean,default:!1}},setup(u){const n=D(),l=$(),s=I({activeRoute:"",expandedActiveKey:[],menuOptions:[]});P(n,(a,_)=>{const{matched:c}=a;s.expandedActiveKey=c.filter((y,i)=>i<c.length-1&&i<2).map(y=>y.meta.subMenu),s.activeRoute=c.length>3?c[c.length-2].meta.submenu:c[c.length-1].meta.submenu},{immediate:!0});const t=a=>{const _=c=>c.reduce((y,i)=>(i.menu&&(i.showChildren?y.push({label:i.label,key:i.path,path:i.path,children:_(i.children)}):y.push({label:i.label,key:i.path,path:i.path})),y),[]);return _(a)};S(()=>{s.menuOptions=t(l.options.routes.filter(a=>a.menu))});const{activeRoute:e,expandedActiveKey:r,collapse:o,menuOptions:d}=w(s);return(a,_)=>{const c=p("el-menu");return m(),k(c,{"default-active":b(e),"default-openeds":b(r),router:"","unique-opened":!0,collapse:b(o)},{default:f(()=>[h(G,{menu:b(d)},null,8,["menu"])]),_:1},8,["default-active","default-openeds","collapse"])}}});const E=(u,n)=>{const l=u.__vccOpts||u;for(const[s,t]of n)l[s]=t;return l},X={class:"header"},Y=C({name:"Header"}),Z=Object.assign(Y,{setup(u){const n=D(),l=$(),s=N(()=>{const{meta:e,params:r}=n;let o=[];return e&&e.crumb&&(o=[...e.crumb]),o[o.length-1].params=r,[...o]}),t=e=>{l.push({name:e.name,params:{...e.params}})};return(e,r)=>{const o=p("el-breadcrumb-item"),d=p("el-breadcrumb");return m(),g("section",X,[h(d,null,{default:f(()=>[(m(!0),g(B,null,A(b(s),(a,_)=>(m(),g(B,{key:_},[_!=b(s).length?(m(),k(o,{key:0,to:{name:a.name,params:a.params},onClick:c=>t(a)},{default:f(()=>[x(O(a.label),1)]),_:2},1032,["to","onClick"])):(m(),k(o,{key:1},{default:f(()=>[x(O(a.label),1)]),_:2},1024))],64))),128))]),_:1})])}}}),ee=E(Z,[["__scopeId","data-v-ebac7b87"]]);const te=C({name:"Home"}),oe=Object.assign(te,{setup(u){return(n,l)=>{const s=p("el-aside"),t=p("el-header"),e=p("router-view"),r=p("el-main"),o=p("el-footer"),d=p("el-container");return m(),k(d,null,{default:f(()=>[h(s,null,{default:f(()=>[h(Q)]),_:1}),h(d,null,{default:f(()=>[h(t,null,{default:f(()=>[h(ee)]),_:1}),h(r,null,{default:f(()=>[h(e)]),_:1}),h(o)]),_:1})]),_:1})}}}),ne=E(oe,[["__scopeId","data-v-f2ecd7b2"]]),ae={path:"/book",label:"书籍",name:"Book",component:ne,menu:!0,showChildren:!1,meta:{submenu:"/book"},children:[{path:"/book",label:"书单",name:"BookList",menu:!1,meta:{submenu:"/book",crumb:[{path:"/book",name:"BookList",label:"书单"}]},component:()=>v(()=>import("./index-4c389da8.js"),["./index-4c389da8.js",".pnpm-84a195eb.js",".pnpm-d4fcba8c.css","./index-5e4db0f9.css"],import.meta.url)},{path:"/BookDetail/:bookId",label:"详情",name:"BookDetail",menu:!1,meta:{submenu:"/book",crumb:[{path:"/book",name:"BookList",label:"书单"},{path:"/BookDetail",name:"BookDetail",label:"书籍名称"}]},component:()=>v(()=>import("./index-ac15beee.js"),["./index-ac15beee.js",".pnpm-84a195eb.js",".pnpm-d4fcba8c.css"],import.meta.url)},{path:"/BookCatalogue/:bookId",label:"详情",name:"BookCatalogue",menu:!1,meta:{submenu:"/book",crumb:[{path:"/book",name:"BookList",label:"书单"},{path:"/BookDetail",name:"BookDetail",label:"书籍名称"},{path:"/BookCatalogue",name:"BookCatalogue",label:"目录"}]},component:()=>v(()=>import("./index-6119e3ee.js"),["./index-6119e3ee.js",".pnpm-84a195eb.js",".pnpm-d4fcba8c.css"],import.meta.url)},{path:"/BookContent/:bookId/:chapterId",label:"内容",name:"BookContent",menu:!1,meta:{submenu:"/book",crumb:[{path:"/book",name:"BookList",label:"书单"},{path:"/BookDetail",name:"BookDetail",label:"书籍名称"},{path:"/BookContent",name:"BookContent",label:"第几章了"}]},component:()=>v(()=>import("./index-ee0886fd.js"),["./index-ee0886fd.js",".pnpm-84a195eb.js",".pnpm-d4fcba8c.css"],import.meta.url)}]},se=[U,ae],re=V({history:H(),routes:se});const le={};function ce(u,n){const l=p("router-view");return m(),k(l)}const ue=E(le,[["render",ce]]),_e={count:10},ie={SET_COUNT(u,n){u.count=n}},pe={set_count({commit:u},n){u("SET_COUNT",n)}},me={namespaced:!0,state:_e,mutations:ie,actions:pe},de={Test:me},fe=j({modules:de,plugins:[q()]}),L=K(ue);L.use(re);L.use(fe);L.use(M);L.mount("#app");export{E as _};
