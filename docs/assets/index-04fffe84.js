import{d as L,_ as j,r as x,a as A,w as H,o as I,b as T,t as _,c as o,e as c,u as r,F as v,f as k,g,h,i as D,j as b,k as m,n as R,l as $,m as z,p as w,q as O,s as E,v as G}from"./index-39125155.js";import{g as V}from"./common-f34978b6.js";const q=(s,a)=>{let e=new Array(Math.ceil(s.length/a));e.fill(null,0,e.length);for(let t=0;t<s.length;t++)Array.isArray(e[Math.floor(t/a)])?e[Math.floor(t/a)].push(s[t]):e[Math.floor(t/a)]=[s[t]];return e},F=(s,a,e)=>{let t=a-s.length%a;return t==a&&(t=0),s.length+=t,s.fill(e,s.length-t,s.length),q(s,a)};const J={key:0,class:"card-box"},U={key:1,class:"card-box"},W=L({name:"Grid"}),K=Object.assign(W,{props:{showType:{type:String,default:"card"},dataList:{type:Array,default:()=>[]},hasHeader:{type:Boolean,default:!1}},setup(s){const a=s,e=x({column:0,dataList:[],showList:[]}),t=A(),d=()=>{e.column=Math.floor(t.value.clientWidth/260),e.showList=F(e.dataList,e.column,{remain:!0})};H(()=>a.dataList,n=>{e.dataList=JSON.parse(JSON.stringify(n)),n&&R(()=>{d()})},{deep:!0,immediate:!0}),window.addEventListener("resize",d),I(()=>{d()}),T(()=>{window.removeEventListener("resize",d)});const{showType:i}=_(a),{column:f,dataList:y,showList:l}=_(e);return(n,u)=>{const B=$("el-card"),S=$("el-row");return o(),c("section",{class:"container",ref_key:"box",ref:t},[r(i)==="card"?(o(),c("div",J,[(o(!0),c(v,null,k(r(l),(C,M)=>(o(),g(S,{key:M},{default:h(()=>[(o(!0),c(v,null,k(C,(p,N)=>(o(),c("div",{class:"column-item",key:N},[p.remain?m("",!0):(o(),g(B,{key:0},D({default:h(()=>[b(n.$slots,"default",{item:p},void 0,!0)]),_:2},[s.hasHeader?{name:"header",fn:h(()=>[b(n.$slots,"headers",{item:p},void 0,!0)]),key:"0"}:void 0]),1024)),b(n.$slots,"main",{item:p},void 0,!0)]))),128))]),_:2},1024))),128))])):m("",!0),r(i)==="table"?(o(),c("div",U)):m("",!0)],512)}}}),Q=j(K,[["__scopeId","data-v-c039b21b"]]);const X={class:"title"},Y={class:"content"},Z=L({name:"Row"}),P=Object.assign(Z,{props:{label:{type:Object,default:()=>{}},values:{type:Object,default:()=>{}},type:{type:String,default:"between"}},setup(s){const a=s,e=x({classObject:{}}),{label:t,values:d,type:i}=_(a);e.classObject={between:i.value=="between",left:i.value=="start"};const{classObject:f}=_(e);return(y,l)=>(o(!0),c(v,null,k(r(d),(n,u)=>(o(),c("div",{key:n.id},[r(t)[u]?(o(),c("div",{key:0,class:z(["row",{column:r(t)[u].length+n.length>20,...r(f)}])},[w("span",X,O(r(t)[u]),1),w("span",Y,O(n),1)],2)):m("",!0)]))),128))}}),ee=j(P,[["__scopeId","data-v-9b741635"]]),te={id:"编号",name:"书名"},se=["onClick"],ae=L({name:"BookList"}),re=Object.assign(ae,{setup(s){const a=G(),e=x({dataList:[],dataHeader:{},currentBook:{}}),t=()=>{V().then(l=>{e.dataList=l}).finally(()=>{})},d=()=>{e.dataHeader=te,t()},i=l=>{e.currentBook=l;const n={bookId:l.id,bookName:l.name};a.push({name:"BookDetail",query:{...n}})};d();const{dataList:f,dataHeader:y}=_(e);return(l,n)=>(o(),g(Q,{"data-list":r(f),class:"grid"},{default:h(u=>[w("div",{onClick:B=>i(u.item)},[E(ee,{type:"between",label:r(y),values:u.item},null,8,["label","values"])],8,se)]),_:1},8,["data-list"]))}});export{re as default};
